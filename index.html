<html lang="pt-BR">
<div class="field">
<label class="small">E‑mail</label>
<input type="email" id="email" placeholder="seu@email.com" required>
</div>


<!-- Payment placeholder: replace with GhostsPay SDK/redirect -->
<div class="field">
<label class="small">Método de pagamento</label>
<select id="pmethod">
<option value="ghostspay">GhostsPay (recomendado)</option>
<option value="boleto">Boleto</option>
<option value="card">Cartão de crédito</option>
</select>
</div>


<div style="display:flex;gap:8px;margin-top:12px">
<button type="submit" class="btn">Pagar R$ 49,90</button>
<button type="button" id="cancel" class="btn-ghost">Cancelar</button>
</div>
</form>


<div id="checkoutResult" style="display:none;margin-top:12px"></div>


<p class="small" style="margin-top:10px">Ao finalizar, você será direcionado para o checkout seguro. Substitua este fluxo pelo SDK/API da GhostsPay para integrar pagamentos reais.</p>
</div>
</div>


<script>
const buyBtn = document.getElementById('buyBtn');
const modal = document.getElementById('checkoutModal');
const closeModal = document.getElementById('closeModal');
const cancelBtn = document.getElementById('cancel');
const form = document.getElementById('checkoutForm');
const result = document.getElementById('checkoutResult');


buyBtn.addEventListener('click', ()=>openCheckout());
closeModal.addEventListener('click', ()=>closeCheckout());
cancelBtn.addEventListener('click', ()=>closeCheckout());


function openCheckout(){
modal.classList.add('open');
modal.setAttribute('aria-hidden','false');
}
function closeCheckout(){
modal.classList.remove('open');
modal.setAttribute('aria-hidden','true');
}


// Fake checkout flow: replace with real GhostsPay integration
form.addEventListener('submit', (e)=>{
e.preventDefault();
result.style.display = 'block';
result.innerHTML = 'Processando pagamento...';


// Simulate network delay
setTimeout(()=>{
// Simulated success
result.innerHTML = '<strong>Pagamento confirmado!</strong> Seu pedido foi processado. Aguarde o e‑mail com os detalhes.';
// In a real integration you would: collect data, call your server, create an order, request a GhostsPay payment token, redirect or show the gateway.
}, 1400);
});


// Accessibility: close modal with Esc
document.addEventListener('keydown', (ev)=>{
if(ev.key === 'Escape' && modal.classList.contains('open')) closeCheckout();
});


// Placeholder lazy-loading images if replacements provided
document.querySelectorAll('img[data-src]').forEach(img=>{
const src = img.getAttribute('data-src');
if(src) img.src = src;
});


/*
TODO: GhostsPay integration notes (developer):
1) Do not call payment endpoints from client-side with secret keys. Create a server endpoint to create an order and request a GhostsPay payment url/token from their API.
2) On server: create order, call GhostsPay, return client token / redirect url to the browser.
3) On client: redirect user to GhostsPay checkout or use GhostsPay JS widget if provided.
4) Implement webhook to confirm payment and update order status.
*/
</script>
</body>
</html>